<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>B√†i t·∫≠p t√¨m hai s·ªë khi bi·∫øt t·ªïng v√† t·ªâ s·ªë</title>
    <style>
        body {
            font-family: 'Times New Roman', serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 30px;
            background-color: #f5f5f5;
        }
        
        .container {
            background-color: white;
            padding: 40px;
            border-radius: 15px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.15);
        }
        
        h1 {
            text-align: center;
            color: #2c3e50;
            margin-bottom: 40px;
            font-size: 36px;
        }
        
        .problem {
            margin-bottom: 35px;
            padding: 30px;
            border: 2px solid #ddd;
            border-radius: 12px;
            background-color: #fafafa;
        }
        
        .problem-title {
            font-weight: bold;
            color: #34495e;
            margin-bottom: 15px;
            font-size: 24px;
        }
        
        .problem-content {
            margin-bottom: 20px;
            line-height: 1.8;
            font-size: 22px;
        }
        
        .answer-section {
            display: flex;
            gap: 25px;
            align-items: center;
            flex-wrap: wrap;
        }
        
        .answer-group {
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .answer-label {
            font-weight: bold;
            color: #555;
            min-width: 120px;
            font-size: 20px;
        }
        
        .answer-input {
            padding: 12px 16px;
            border: 3px solid #3498db;
            border-radius: 8px;
            width: 140px;
            font-size: 20px;
            text-align: center;
        }
        
        .answer-input:focus {
            outline: none;
            border-color: #2980b9;
            box-shadow: 0 0 8px rgba(52, 152, 219, 0.4);
        }
        
        .check-btn {
            background-color: #27ae60;
            color: white;
            border: none;
            padding: 14px 24px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 18px;
            transition: background-color 0.3s;
        }
        
        .check-btn:hover {
            background-color: #229954;
        }
        
        .result {
            margin-top: 15px;
            padding: 12px 18px;
            border-radius: 8px;
            font-weight: bold;
            display: none;
            font-size: 18px;
        }
        
        .correct {
            background-color: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        
        .incorrect {
            background-color: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        
        .confetti {
            position: fixed;
            width: 15px;
            height: 15px;
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4, #45b7d1, #96ceb4, #feca57);
            background-size: 500% 500%;
            animation: confetti-fall 3s linear, confetti-color 2s ease-in-out infinite;
            z-index: 9999;
        }
        
        @keyframes confetti-fall {
            0% {
                transform: translateY(-100vh) rotate(0deg);
                opacity: 1;
            }
            100% {
                transform: translateY(100vh) rotate(720deg);
                opacity: 0;
            }
        }
        
        @keyframes confetti-color {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }
        
        .praise-message {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 40px 60px;
            border-radius: 25px;
            font-size: 32px;
            font-weight: bold;
            text-align: center;
            z-index: 10000;
            box-shadow: 0 15px 50px rgba(0,0,0,0.3);
            animation: praise-appear 0.5s ease-out;
        }
        
        @keyframes praise-appear {
            0% {
                transform: translate(-50%, -50%) scale(0);
                opacity: 0;
            }
            50% {
                transform: translate(-50%, -50%) scale(1.1);
            }
            100% {
                transform: translate(-50%, -50%) scale(1);
                opacity: 1;
            }
        }
        
        .encouragement-message {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
            padding: 35px 50px;
            border-radius: 20px;
            font-size: 28px;
            text-align: center;
            z-index: 10000;
            box-shadow: 0 12px 40px rgba(0,0,0,0.25);
            animation: encouragement-appear 0.5s ease-out;
        }
        
        @keyframes encouragement-appear {
            0% {
                transform: translate(-50%, -50%) scale(0);
                opacity: 0;
            }
            100% {
                transform: translate(-50%, -50%) scale(1);
                opacity: 1;
            }
        }
        
        .fraction {
            display: inline-block;
            vertical-align: middle;
            text-align: center;
        }
        
        .fraction-up {
            display: block;
            border-bottom: 2px solid;
            padding: 0 6px;
            font-size: 20px;
        }
        
        .fraction-down {
            display: block;
            padding: 0 6px;
            font-size: 20px;
        }
        
        .controls {
            text-align: center;
            margin: 40px 0;
        }
        
        .reset-btn {
            background-color: #e74c3c;
            color: white;
            border: none;
            padding: 16px 32px;
            border-radius: 10px;
            cursor: pointer;
            font-size: 20px;
            transition: background-color 0.3s;
        }
        
        .reset-btn:hover {
            background-color: #c0392b;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>B√ÄI T·∫¨P T√åM HAI S·ªê KHI BI·∫æT T·ªîNG V√Ä T·ªà S·ªê</h1>
        
        <div class="problem">
            <div class="problem-title">B√†i 1:</div>
            <div class="problem-content">
                T·ªïng c·ªßa hai s·ªë l√† 31,5. T·ªâ s·ªë c·ªßa hai s·ªë ƒë√≥ l√† 
                <span class="fraction">
                    <span class="fraction-up">3</span>
                    <span class="fraction-down">2</span>
                </span>
                . T√¨m hai s·ªë ƒë√≥.
            </div>
            <div class="answer-section">
                <div class="answer-group">
                    <span class="answer-label">S·ªë b√©:</span>
                    <input type="number" class="answer-input" id="1_1" step="0.1">
                </div>
                <div class="answer-group">
                    <span class="answer-label">S·ªë l·ªõn:</span>
                    <input type="number" class="answer-input" id="1_2" step="0.1">
                </div>
                <button class="check-btn" onclick="checkAnswer(1, [12.6, 18.9])">Ki·ªÉm tra</button>
                <button class="reset-btn" onclick="resetSingleProblem(1)" style="background-color: #f39c12; margin-left: 15px; padding: 12px 20px; font-size: 16px;">X√≥a</button>
            </div>
            <div class="result" id="result_1"></div>
        </div>

        <div class="problem">
            <div class="problem-title">B√†i 2:</div>
            <div class="problem-content">
                Hai th√πng d·∫ßu ch·ª©a t·ªïng c·ªông 82,5 l√≠t. S·ªë d·∫ßu th√πng th·ª© nh·∫•t b·∫±ng 
                <span class="fraction">
                    <span class="fraction-up">1</span>
                    <span class="fraction-down">4</span>
                </span>
                s·ªë d·∫ßu th√πng th·ª© hai. T√≠nh s·ªë d·∫ßu m·ªói th√πng.
            </div>
            <div class="answer-section">
                <div class="answer-group">
                    <span class="answer-label">Th√πng 1:</span>
                    <input type="number" class="answer-input" id="2_1" step="0.1">
                </div>
                <div class="answer-group">
                    <span class="answer-label">Th√πng 2:</span>
                    <input type="number" class="answer-input" id="2_2" step="0.1">
                </div>
                <button class="check-btn" onclick="checkAnswer(2, [16.5, 66.0])">Ki·ªÉm tra</button>
                <button class="reset-btn" onclick="resetSingleProblem(2)" style="background-color: #f39c12; margin-left: 15px; padding: 12px 20px; font-size: 16px;">X√≥a</button>
            </div>
            <div class="result" id="result_2"></div>
        </div>

        <div class="problem">
            <div class="problem-title">B√†i 3:</div>
            <div class="problem-content">
                M·ªôt m·∫£nh v∆∞·ªùn h√¨nh ch·ªØ nh·∫≠t c√≥ n·ª≠a chu vi l√† 45,5 m. Chi·ªÅu r·ªông b·∫±ng 
                <span class="fraction">
                    <span class="fraction-up">3</span>
                    <span class="fraction-down">4</span>
                </span>
                chi·ªÅu d√†i. T√≠nh chi·ªÅu d√†i v√† chi·ªÅu r·ªông c·ªßa m·∫£nh v∆∞·ªùn.
            </div>
            <div class="answer-section">
                <div class="answer-group">
                    <span class="answer-label">Chi·ªÅu r·ªông:</span>
                    <input type="number" class="answer-input" id="3_1" step="0.1">
                </div>
                <div class="answer-group">
                    <span class="answer-label">Chi·ªÅu d√†i:</span>
                    <input type="number" class="answer-input" id="3_2" step="0.1">
                </div>
                <button class="check-btn" onclick="checkAnswer(3, [19.5, 26.0])">Ki·ªÉm tra</button>
                <button class="reset-btn" onclick="resetSingleProblem(3)" style="background-color: #f39c12; margin-left: 15px; padding: 12px 20px; font-size: 16px;">X√≥a</button>
            </div>
            <div class="result" id="result_3"></div>
        </div>

        <div class="problem">
            <div class="problem-title">B√†i 4:</div>
            <div class="problem-content">
                T·ªïng s·ªë g·∫°o n·∫øp v√† g·∫°o t·∫ª l√† 108,9 kg. Bi·∫øt l∆∞·ª£ng g·∫°o n·∫øp b·∫±ng 
                <span class="fraction">
                    <span class="fraction-up">4</span>
                    <span class="fraction-down">5</span>
                </span>
                l∆∞·ª£ng g·∫°o t·∫ª. H·ªèi c√≥ bao nhi√™u ki-l√¥-gam m·ªói lo·∫°i?
            </div>
            <div class="answer-section">
                <div class="answer-group">
                    <span class="answer-label">G·∫°o n·∫øp:</span>
                    <input type="number" class="answer-input" id="4_1" step="0.1">
                </div>
                <div class="answer-group">
                    <span class="answer-label">G·∫°o t·∫ª:</span>
                    <input type="number" class="answer-input" id="4_2" step="0.1">
                </div>
                <button class="check-btn" onclick="checkAnswer(4, [48.4, 60.5])">Ki·ªÉm tra</button>
                <button class="reset-btn" onclick="resetSingleProblem(4)" style="background-color: #f39c12; margin-left: 15px; padding: 12px 20px; font-size: 16px;">X√≥a</button>
            </div>
            <div class="result" id="result_4"></div>
        </div>

        <div class="problem">
            <div class="problem-title">B√†i 5:</div>
            <div class="problem-content">
                T·ªïng hai s·ªë l√† 12,6. S·ªë l·ªõn g·∫•p 2,5 l·∫ßn s·ªë b√© (T·ª©c l√† t·ªâ s·ªë 
                <span class="fraction">
                    <span class="fraction-up">5</span>
                    <span class="fraction-down">2</span>
                </span>
                ). T√¨m hai s·ªë ƒë√≥.
            </div>
            <div class="answer-section">
                <div class="answer-group">
                    <span class="answer-label">S·ªë b√©:</span>
                    <input type="number" class="answer-input" id="5_1" step="0.1">
                </div>
                <div class="answer-group">
                    <span class="answer-label">S·ªë l·ªõn:</span>
                    <input type="number" class="answer-input" id="5_2" step="0.1">
                </div>
                <button class="check-btn" onclick="checkAnswer(5, [3.6, 9.0])">Ki·ªÉm tra</button>
                <button class="reset-btn" onclick="resetSingleProblem(5)" style="background-color: #f39c12; margin-left: 15px; padding: 12px 20px; font-size: 16px;">X√≥a</button>
            </div>
            <div class="result" id="result_5"></div>
        </div>

        <div class="problem">
            <div class="problem-title">B√†i 6:</div>
            <div class="problem-content">
                Kh·ªëi l·ªõp 5 v√† kh·ªëi l·ªõp 4 quy√™n g√≥p ƒë∆∞·ª£c t·ªïng c·ªông 220,5 quy·ªÉn v·ªü. S·ªë v·ªü kh·ªëi 5 quy√™n g√≥p b·∫±ng 
                <span class="fraction">
                    <span class="fraction-up">4</span>
                    <span class="fraction-down">3</span>
                </span>
                s·ªë v·ªü kh·ªëi 4. T√≠nh s·ªë v·ªü m·ªói kh·ªëi.
            </div>
            <div class="answer-section">
                <div class="answer-group">
                    <span class="answer-label">Kh·ªëi 4:</span>
                    <input type="number" class="answer-input" id="6_1" step="0.1">
                </div>
                <div class="answer-group">
                    <span class="answer-label">Kh·ªëi 5:</span>
                    <input type="number" class="answer-input" id="6_2" step="0.1">
                </div>
                <button class="check-btn" onclick="checkAnswer(6, [94.5, 126.0])">Ki·ªÉm tra</button>
                <button class="reset-btn" onclick="resetSingleProblem(6)" style="background-color: #f39c12; margin-left: 15px; padding: 12px 20px; font-size: 16px;">X√≥a</button>
            </div>
            <div class="result" id="result_6"></div>
        </div>

        <div class="problem">
            <div class="problem-title">B√†i 7:</div>
            <div class="problem-content">
                Hai v√≤i n∆∞·ªõc c√πng ch·∫£y v√†o b·ªÉ ƒë∆∞·ª£c 157,5 l√≠t n∆∞·ªõc. L∆∞·ª£ng n∆∞·ªõc v√≤i th·ª© nh·∫•t ch·∫£y ƒë∆∞·ª£c b·∫±ng 
                <span class="fraction">
                    <span class="fraction-up">2</span>
                    <span class="fraction-down">5</span>
                </span>
                l∆∞·ª£ng n∆∞·ªõc v√≤i th·ª© hai. T√≠nh l∆∞·ª£ng n∆∞·ªõc m·ªói v√≤i ch·∫£y ƒë∆∞·ª£c.
            </div>
            <div class="answer-section">
                <div class="answer-group">
                    <span class="answer-label">V√≤i 1:</span>
                    <input type="number" class="answer-input" id="7_1" step="0.1">
                </div>
                <div class="answer-group">
                    <span class="answer-label">V√≤i 2:</span>
                    <input type="number" class="answer-input" id="7_2" step="0.1">
                </div>
                <button class="check-btn" onclick="checkAnswer(7, [45.0, 112.5])">Ki·ªÉm tra</button>
                <button class="reset-btn" onclick="resetSingleProblem(7)" style="background-color: #f39c12; margin-left: 15px; padding: 12px 20px; font-size: 16px;">X√≥a</button>
            </div>
            <div class="result" id="result_7"></div>
        </div>

        <div class="problem">
            <div class="problem-title">B√†i 8:</div>
            <div class="problem-content">
                T·ªïng ƒë·ªô d√†i hai t·∫•m v·∫£i l√† 63,7 m. T·∫•m v·∫£i xanh b·∫±ng 
                <span class="fraction">
                    <span class="fraction-up">3</span>
                    <span class="fraction-down">4</span>
                </span>
                t·∫•m v·∫£i ƒë·ªè. T√¨m ƒë·ªô d√†i m·ªói t·∫•m v·∫£i.
            </div>
            <div class="answer-section">
                <div class="answer-group">
                    <span class="answer-label">V·∫£i xanh:</span>
                    <input type="number" class="answer-input" id="8_1" step="0.1">
                </div>
                <div class="answer-group">
                    <span class="answer-label">V·∫£i ƒë·ªè:</span>
                    <input type="number" class="answer-input" id="8_2" step="0.1">
                </div>
                <button class="check-btn" onclick="checkAnswer(8, [27.3, 36.4])">Ki·ªÉm tra</button>
                <button class="reset-btn" onclick="resetSingleProblem(8)" style="background-color: #f39c12; margin-left: 15px; padding: 12px 20px; font-size: 16px;">X√≥a</button>
            </div>
            <div class="result" id="result_8"></div>
        </div>

        <div class="problem">
            <div class="problem-title">B√†i 9:</div>
            <div class="problem-content">
                T√¨m hai s·ªë c√≥ t·ªïng l√† 202,4. Bi·∫øt s·ªë b√© b·∫±ng 
                <span class="fraction">
                    <span class="fraction-up">3</span>
                    <span class="fraction-down">5</span>
                </span>
                s·ªë l·ªõn.
            </div>
            <div class="answer-section">
                <div class="answer-group">
                    <span class="answer-label">S·ªë b√©:</span>
                    <input type="number" class="answer-input" id="9_1" step="0.1">
                </div>
                <div class="answer-group">
                    <span class="answer-label">S·ªë l·ªõn:</span>
                    <input type="number" class="answer-input" id="9_2" step="0.1">
                </div>
                <button class="check-btn" onclick="checkAnswer(9, [75.9, 126.5])">Ki·ªÉm tra</button>
                <button class="reset-btn" onclick="resetSingleProblem(9)" style="background-color: #f39c12; margin-left: 15px; padding: 12px 20px; font-size: 16px;">X√≥a</button>
            </div>
            <div class="result" id="result_9"></div>
        </div>

        <div class="problem">
            <div class="problem-title">B√†i 10:</div>
            <div class="problem-content">
                M·ªôt c·ª≠a h√†ng b√°n ƒë∆∞·ª£c t·ªïng c·ªông 93,6 kg ƒë∆∞·ªùng trong hai ng√†y. S·ªë ƒë∆∞·ªùng b√°n ng√†y th·ª© nh·∫•t b·∫±ng 
                <span class="fraction">
                    <span class="fraction-up">1</span>
                    <span class="fraction-down">2</span>
                </span>
                s·ªë ƒë∆∞·ªùng b√°n ng√†y th·ª© hai. T√≠nh s·ªë ƒë∆∞·ªùng b√°n m·ªói ng√†y.
            </div>
            <div class="answer-section">
                <div class="answer-group">
                    <span class="answer-label">Ng√†y 1:</span>
                    <input type="number" class="answer-input" id="10_1" step="0.1">
                </div>
                <div class="answer-group">
                    <span class="answer-label">Ng√†y 2:</span>
                    <input type="number" class="answer-input" id="10_2" step="0.1">
                </div>
                <button class="check-btn" onclick="checkAnswer(10, [31.2, 62.4])">Ki·ªÉm tra</button>
                <button class="reset-btn" onclick="resetSingleProblem(10)" style="background-color: #f39c12; margin-left: 15px; padding: 12px 20px; font-size: 16px;">X√≥a</button>
            </div>
            <div class="result" id="result_10"></div>
        </div>

        <div class="controls">
            <button class="reset-btn" onclick="resetAll()">X√≥a t·∫•t c·∫£ c√¢u tr·∫£ l·ªùi</button>
            <button class="reset-btn" onclick="resetProblem()" style="background-color: #3498db; margin-left: 10px;">L√†m l·∫°i b√†i n√†y</button>
        </div>
    </div>

    <script>
        // C√°c l·ªùi khen khi l√†m ƒë√∫ng
        const praiseMessages = [
            "üéâ Tuy·ªát v·ªùi! B·∫°n l√†m ƒë√∫ng r·ªìi!",
            "‚≠ê Xu·∫•t s·∫Øc! C·ªë g·∫Øng l√™n nh√©!",
            "üèÜ Ch√≠nh x√°c! B·∫°n th√¥ng minh qu√°!",
            "üåü Ho√†n h·∫£o! Ti·∫øp t·ª•c ph√°t huy nh√©!",
            "üí´ ƒê·ªânh cao! B·∫°n gi·ªèi to√°n l·∫Øm!"
        ];
        
        // C√°c l·ªùi ƒë·ªông vi√™n khi l√†m sai
        const encouragementMessages = [
            "üí™ ƒê·ª´ng n·∫£n l√≤ng! C·ªë g·∫Øng l·∫°i nh√©!",
            "üåà S·∫Øp ƒë√∫ng r·ªìi! Th·ª≠ l·∫°i xem sao!",
            "üéØ G·∫ßn ƒë√∫ng! Ki·ªÉm tra l·∫°i m·ªôt ch√∫t nh√©!",
            "‚ö° Kh√¥ng sao c·∫£! M·ªçi ng∆∞·ªùi ƒë·ªÅu c√≥ l√∫c sai!",
            "üå± C·∫ßn th√™m ch√∫t th·ªùi gian! B·∫°n l√†m ƒë∆∞·ª£c m√†!"
        ];
        
        // T·∫°o √¢m thanh v·ªó tay (s·ª≠ d·ª•ng Web Audio API)
        function playApplauseSound() {
            const audioContext = new (window.AudioContext || window.webkitAudioContext)();
            
            // T·∫°o nhi·ªÅu √¢m thanh v·ªó tay m√¥ ph·ªèng ti·∫øng v·ªó tay th·∫≠t
            const clapSounds = [
                {freq: 1200, duration: 0.05, delay: 0},
                {freq: 1000, duration: 0.04, delay: 0.02},
                {freq: 1400, duration: 0.03, delay: 0.04},
                {freq: 800, duration: 0.05, delay: 0.06},
                {freq: 1100, duration: 0.04, delay: 0.08},
                {freq: 1300, duration: 0.03, delay: 0.10},
                {freq: 900, duration: 0.05, delay: 0.12},
                {freq: 1500, duration: 0.02, delay: 0.14}
            ];
            
            clapSounds.forEach(sound => {
                setTimeout(() => {
                    const oscillator = audioContext.createOscillator();
                    const gainNode = audioContext.createGain();
                    const filter = audioContext.createBiquadFilter();
                    
                    oscillator.connect(filter);
                    filter.connect(gainNode);
                    gainNode.connect(audioContext.destination);
                    
                    oscillator.frequency.value = sound.freq;
                    oscillator.type = 'square';
                    
                    // B·ªô l·ªçc ƒë·ªÉ √¢m thanh t·ª± nhi√™n h∆°n
                    filter.type = 'lowpass';
                    filter.frequency.value = 2000;
                    filter.Q.value = 1;
                    
                    gainNode.gain.setValueAtTime(0, audioContext.currentTime + sound.delay);
                    gainNode.gain.linearRampToValueAtTime(0.15, audioContext.currentTime + sound.delay + 0.01);
                    gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + sound.delay + sound.duration);
                    
                    oscillator.start(audioContext.currentTime + sound.delay);
                    oscillator.stop(audioContext.currentTime + sound.delay + sound.duration);
                }, sound.delay * 1000);
            });
        }
        
        // T·∫°o √¢m thanh sai
        function playWrongSound() {
            const audioContext = new (window.AudioContext || window.webkitAudioContext)();
            
            // T·∫°o √¢m thanh "b√≠p" b√°o sai
            const oscillator = audioContext.createOscillator();
            const gainNode = audioContext.createGain();
            
            oscillator.connect(gainNode);
            gainNode.connect(audioContext.destination);
            
            oscillator.frequency.value = 300;
            oscillator.type = 'triangle';
            
            gainNode.gain.setValueAtTime(0.2, audioContext.currentTime);
            gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.4);
            
            oscillator.start(audioContext.currentTime);
            oscillator.stop(audioContext.currentTime + 0.4);
        }
        
        // T·∫°o √¢m thanh click chu·ªôt
        function playClickSound() {
            const audioContext = new (window.AudioContext || window.webkitAudioContext)();
            
            const oscillator = audioContext.createOscillator();
            const gainNode = audioContext.createGain();
            
            oscillator.connect(gainNode);
            gainNode.connect(audioContext.destination);
            
            oscillator.frequency.value = 600;
            oscillator.type = 'sine';
            
            gainNode.gain.setValueAtTime(0.1, audioContext.currentTime);
            gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.05);
            
            oscillator.start(audioContext.currentTime);
            oscillator.stop(audioContext.currentTime + 0.05);
        }
        
        // T·∫°o √¢m thanh khi x√≥a
        function playDeleteSound() {
            const audioContext = new (window.AudioContext || window.webkitAudioContext)();
            
            const oscillator = audioContext.createOscillator();
            const gainNode = audioContext.createGain();
            
            oscillator.connect(gainNode);
            gainNode.connect(audioContext.destination);
            
            oscillator.frequency.setValueAtTime(400, audioContext.currentTime);
            oscillator.frequency.exponentialRampToValueAtTime(200, audioContext.currentTime + 0.1);
            oscillator.type = 'sawtooth';
            
            gainNode.gain.setValueAtTime(0.08, audioContext.currentTime);
            gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.15);
            
            oscillator.start(audioContext.currentTime);
            oscillator.stop(audioContext.currentTime + 0.15);
        }
        
        // T·∫°o hi·ªáu ·ª©ng ph√°o gi·∫•y
        function createConfetti() {
            const colors = ['#ff6b6b', '#4ecdc4', '#45b7d1', '#96ceb4', '#feca57', '#ff8cc8', '#a8e6cf'];
            
            for (let i = 0; i < 50; i++) {
                setTimeout(() => {
                    const confetti = document.createElement('div');
                    confetti.className = 'confetti';
                    confetti.style.left = Math.random() * 100 + '%';
                    confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                    confetti.style.animationDelay = Math.random() * 0.5 + 's';
                    confetti.style.animationDuration = (2 + Math.random() * 2) + 's';
                    
                    document.body.appendChild(confetti);
                    
                    setTimeout(() => {
                        confetti.remove();
                    }, 4000);
                }, i * 30);
            }
        }
        
        // Hi·ªÉn th·ªã l·ªùi khen
        function showPraiseMessage() {
            const message = praiseMessages[Math.floor(Math.random() * praiseMessages.length)];
            const messageDiv = document.createElement('div');
            messageDiv.className = 'praise-message';
            messageDiv.textContent = message;
            
            document.body.appendChild(messageDiv);
            
            setTimeout(() => {
                messageDiv.remove();
            }, 2500);
        }
        
        // Hi·ªÉn th·ªã l·ªùi ƒë·ªông vi√™n
        function showEncouragementMessage() {
            const message = encouragementMessages[Math.floor(Math.random() * encouragementMessages.length)];
            const messageDiv = document.createElement('div');
            messageDiv.className = 'encouragement-message';
            messageDiv.textContent = message;
            
            document.body.appendChild(messageDiv);
            
            setTimeout(() => {
                messageDiv.remove();
            }, 2000);
        }
        
        function checkAnswer(problemNum, correctAnswers) {
            const input1 = document.getElementById(`${problemNum}_1`);
            const input2 = document.getElementById(`${problemNum}_2`);
            const resultDiv = document.getElementById(`result_${problemNum}`);
            
            const answer1 = parseFloat(input1.value);
            const answer2 = parseFloat(input2.value);
            
            if (isNaN(answer1) || isNaN(answer2)) {
                resultDiv.textContent = "Vui l√≤ng nh·∫≠p ƒë·∫ßy ƒë·ªß c√¢u tr·∫£ l·ªùi!";
                resultDiv.className = "result incorrect";
                resultDiv.style.display = "block";
                return;
            }
            
            // Cho ph√©p sai s·ªë nh·ªè 0.1 do l√†m tr√≤n
            const tolerance = 0.1;
            const isCorrect1 = Math.abs(answer1 - correctAnswers[0]) <= tolerance;
            const isCorrect2 = Math.abs(answer2 - correctAnswers[1]) <= tolerance;
            
            if (isCorrect1 && isCorrect2) {
                resultDiv.textContent = "‚úì ƒê√∫ng r·ªìi! R·∫•t t·ªët!";
                resultDiv.className = "result correct";
                
                // Ph√°t hi·ªáu ·ª©ng khi l√†m ƒë√∫ng
                playApplauseSound();
                createConfetti();
                showPraiseMessage();
            } else {
                resultDiv.textContent = `‚úó Ch∆∞a ƒë√∫ng. ƒê√°p √°n ƒë√∫ng: ${correctAnswers[0].toFixed(1)} v√† ${correctAnswers[1].toFixed(1)}`;
                resultDiv.className = "result incorrect";
                
                // Ph√°t hi·ªáu ·ª©ng khi l√†m sai
                playWrongSound();
                showEncouragementMessage();
            }
            resultDiv.style.display = "block";
        }
        
        function resetAll() {
            const inputs = document.querySelectorAll('.answer-input');
            const results = document.querySelectorAll('.result');
            
            inputs.forEach(input => input.value = '');
            results.forEach(result => result.style.display = 'none');
        }
        
        function resetProblem() {
            // T·∫£i l·∫°i trang ƒë·ªÉ l√†m l·∫°i t·ª´ ƒë·∫ßu
            if (confirm('B·∫°n c√≥ ch·∫Øc mu·ªën l√†m l·∫°i t·∫•t c·∫£ c√°c b√†i t·∫≠p t·ª´ ƒë·∫ßu?')) {
                location.reload();
            }
        }
        
        function resetSingleProblem(problemNum) {
            // X√≥a c√¢u tr·∫£ l·ªùi c·ªßa m·ªôt b√†i c·ª• th·ªÉ
            const input1 = document.getElementById(`${problemNum}_1`);
            const input2 = document.getElementById(`${problemNum}_2`);
            const resultDiv = document.getElementById(`result_${problemNum}`);
            
            input1.value = '';
            input2.value = '';
            resultDiv.style.display = 'none';
            
            // Ph√°t √¢m thanh x√≥a
            playDeleteSound();
            
            // Focus v√†o √¥ nh·∫≠p ƒë·∫ßu ti√™n
            input1.focus();
        }
        
        // Th√™m s·ª± ki·ªán Enter ƒë·ªÉ ki·ªÉm tra
        document.addEventListener('keypress', function(event) {
            if (event.key === 'Enter') {
                const activeElement = document.activeElement;
                if (activeElement.classList.contains('answer-input')) {
                    const problemNum = activeElement.id.split('_')[0];
                    const button = activeElement.parentElement.parentElement.querySelector('.check-btn');
                    if (button) {
                        playClickSound();
                        button.click();
                    }
                }
            }
        });
        
        // Th√™m √¢m thanh khi click v√†o c√°c n√∫t
        document.addEventListener('DOMContentLoaded', function() {
            // Th√™m √¢m thanh cho t·∫•t c·∫£ c√°c n√∫t
            const buttons = document.querySelectorAll('button');
            buttons.forEach(button => {
                button.addEventListener('click', function() {
                    if (!this.onclick || !this.onclick.toString().includes('playApplauseSound') && 
                        !this.onclick.toString().includes('playWrongSound') && 
                        !this.onclick.toString().includes('playDeleteSound')) {
                        playClickSound();
                    }
                });
            });
            
            // Th√™m √¢m thanh khi nh·∫≠p li·ªáu
            const inputs = document.querySelectorAll('.answer-input');
            inputs.forEach(input => {
                input.addEventListener('input', function() {
                    // Ch·ªâ ph√°t √¢m thanh khi c√≥ gi√° tr·ªã ƒë∆∞·ª£c nh·∫≠p
                    if (this.value.length > 0) {
                        playClickSound();
                    }
                });
            });
        });
    </script>
</body>
</html>
